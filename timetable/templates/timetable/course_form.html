{% extends "timetable/base.html" %}
{% block content %}
<div class="container mt-4">
  <h2>{{ title }}</h2>

  <form method="post" novalidate>
    {% csrf_token %}

    <!-- Code -->
    <div class="mb-3">
      <label class="form-label">{{ form.code.label }}</label>
      {{ form.code }}
    </div>

    <!-- Number -->
    <div class="mb-3">
      <label class="form-label">{{ form.number.label }}</label>
      {{ form.number }}
    </div>

    <!-- Section -->
    <div class="mb-3">
      <label class="form-label">{{ form.section.label }}</label>
      {{ form.section }}
    </div>

    <!-- Term -->
    <div class="mb-3">
      <label class="form-label">{{ form.term.label }}</label>
      {{ form.term }}
    </div>

    <!-- Day (optional) -->
    <div class="mb-3">
      <label class="form-label">Day</label>
      {{ form.day }}
    </div>

    <!-- Start Time (optional) -->
    <div class="mb-3">
      <label class="form-label">Start Time</label>
      {{ form.start_time }}
    </div>

    <!-- End Time (optional) -->
    <div class="mb-3">
      <label class="form-label">End Time</label>
      {{ form.end_time }}
    </div>

    <!-- Academic Year -->
    <div class="mb-3">
      <label class="form-label">{{ form.academic_year.label }}</label>
      {{ form.academic_year }}
    </div>

    {% if form.errors %}
    <div class="alert alert-danger">
      <ul class="mb-0">
        {# field-specific errors #}
        {% for field, errors in form.errors.items %}
          {% if field != '__all__' %}
            {% for err in errors %}
              <li>{{ err }}</li>
            {% endfor %}
          {% endif %}
        {% endfor %}
        {# non-field errors (unique_together, custom clean(), etc.) #}
        {% for err in form.non_field_errors %}
          <li>{{ err }}</li>
        {% endfor %}
      </ul>
    </div>
  {% endif %}

    <button type="submit" class="btn btn-primary">Save</button>
    <a href="{% url 'scheduler:view_courses' %}" class="btn btn-secondary">Cancel</a>
  </form>
</div>
{% endblock %}
